{% extends "layout/base.html" %}

{% load static %}
{% block title %}{{card.name}}{% endblock %}

{% block stylesheet %}{% endblock %}

{% block content %}

<div class="page-inner">
    <div class="row">
        <div class="col-xl">
            <div class="card">
                <div class="card-header">
                    <div class="card-head-row">
                        <div class="card-title">{{card.name}}</div>
                        <div class="card-tools">
                            <button class="btn btn-danger" id="store_card"><i class="fa fa-print"></i></button>
                        </div>
                    </div>
                </div>
                <div class="card-body">
                    {% include 'cardviewer/card_type_chooser.html'%}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block javascript %}
<script src="{% static 'assets/js/custom/card_script.js' %}"></script>
<script src="{% static 'assets/js/custom/table_view_script.js' %}"></script>

<script>
    $(document).ready(function() {
        // Evento de clique no botão, por exemplo
        $('#store_card').click(function() {
            // Fazer a chamada Ajax
            $.ajax({
                url: '{% url 'store_card_in_cart' card.slug %}',  // A URL que você configurou em suas urls.py
                type: 'GET',  // Ou 'POST' dependendo da sua view
            });
        });
    });

</script>
{% endblock %}