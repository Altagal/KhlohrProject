{% extends "cardviewer/layout/base.html" %}
{% load static %}
{% block title %}{{obj_card.name}}{% endblock %}

{% block stylesheet %}{% endblock %}

{% block content %}

<div class="page-inner">
    <div class="row">
        <div class="col-xl">
            <div class="card">
                <div class="card-header">
                    <div class="card-head-row">
                        <div class="card-title">{{obj_card.name}}</div>
                        <div class="card-tools">
                            <button class="btn btn-danger" id="store_card"><i class="fa fa-print"></i></button>
                        </div>
                    </div>
                </div>
                <div class="card-body">


                    {% block card %}

                    {% endblock %}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block javascript %}
<script src="{% static 'assets/js/custom/card_script.js' %}"></script>
<script>
    $(document).ready(function() {
        // Evento de clique no botão, por exemplo
        $('#store_card').click(function() {
            // Fazer a chamada Ajax
            $.ajax({
                url: '{% url 'store_card_in_cart' obj_card.slug %}',  // A URL que você configurou em suas urls.py
                type: 'GET',  // Ou 'POST' dependendo da sua view
            });
        });
    });

</script>

{% endblock %}